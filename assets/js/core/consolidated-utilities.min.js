const AionUtils={dom:{get(selector){try{return document.querySelector(selector);}catch(error){return null;}},getAll(selector){try{return document.querySelectorAll(selector);}catch(error){return[];}},on(element,event,handler){if(!element)return;try{element.addEventListener(event,(e)=>{try{handler(e);}catch(error){console.error('Event handler error:',error);AionUtils.errors.show('An error occurred while handling the event');}});}catch(error){console.error('Failed to add event listener:',error);}},off(element,event,handler){if(!element)return;try{element.removeEventListener(event,handler);}catch(error){}},create(tag,attributes={},content=''){try{const element=document.createElement(tag);Object.keys(attributes).forEach(attr=>{element.setAttribute(attr,attributes[attr]);});if(content){element.innerHTML=content;}return element;}catch(error){console.error('Failed to create element:',error);return null;}}},animation:{scrollTo(element,duration=500){if(!element)return;const start=window.pageYOffset;const target=element.offsetTop;const distance=target-start;let startTime=null;const animate=(currentTime)=>{if(startTime===null)startTime=currentTime;const timeElapsed=currentTime-startTime;const progress=Math.min(timeElapsed/duration,1);const ease=progress*(2-progress);window.scrollTo(0,start+distance*ease);if(progress<1){requestAnimationFrame(animate);}};requestAnimationFrame(animate);},fadeIn(element,duration=300){if(!element)return Promise.resolve();return new Promise(resolve=>{element.style.opacity='0';element.style.transition=`opacity ${duration}ms`;requestAnimationFrame(()=>{element.style.opacity='1';setTimeout(resolve,duration);});});},fadeOut(element,duration=300){if(!element)return Promise.resolve();return new Promise(resolve=>{element.style.transition=`opacity ${duration}ms`;element.style.opacity='0';setTimeout(resolve,duration);});}},storage:{get(key,defaultValue=null){try{const value=localStorage.getItem(key);return value?JSON.parse(value):defaultValue;}catch(error){return defaultValue;}},set(key,value){try{localStorage.setItem(key,JSON.stringify(value));return true;}catch(error){return false;}},remove(key){try{localStorage.removeItem(key);return true;}catch(error){return false;}}},network:{async fetch(url,options={}){const defaultOptions={timeout:10000,headers:{'Content-Type':'application/json'}};const config={...defaultOptions,...options};const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),config.timeout);try{const response=await fetch(url,{...config,signal:controller.signal});clearTimeout(timeoutId);if(!response.ok){throw new Error(`HTTP ${response.status}:${response.statusText}`);}return response;}catch(error){clearTimeout(timeoutId);if(error.name==='AbortError'){throw new Error('Request timeout');}throw error;}},isOnline(){return navigator.onLine;},onNetworkChange(callback){window.addEventListener('online',()=>callback(true));window.addEventListener('offline',()=>callback(false));}},errors:{show(message,type='error'){const container=this.getContainer();const errorElement=AionUtils.dom.create('div',{class:`error-message error-${type}`,role:'alert'},`<span class="error-icon">⚠️</span><span class="error-text">${message}</span><button class="error-close" onclick="this.parentElement.remove()">×</button>`);container.appendChild(errorElement);setTimeout(()=>{if(errorElement.parentElement){errorElement.remove();}},5000);},getContainer(){let container=AionUtils.dom.get('#error-container');if(!container){container=AionUtils.dom.create('div',{id:'error-container',class:'error-container'});document.body.appendChild(container);}return container;},log(error,context=''){const errorInfo={message:error.message,stack:error.stack,context:context,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.error('Application Error:',errorInfo);const errors=AionUtils.storage.get('debug_errors',[]);errors.push(errorInfo);if(errors.length>10)errors.shift();AionUtils.storage.set('debug_errors',errors);}},validation:{isEmail(email){const pattern=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return pattern.test(email);},isUrl(url){try{new URL(url);return true;}catch{return false;}},isInRange(value,min,max){const num=parseFloat(value);return!isNaN(num)&&num>=min&&num<=max;}},performance:{debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args);};clearTimeout(timeout);timeout=setTimeout(later,wait);};},throttle(func,limit){let inThrottle;return function executedFunction(...args){if(!inThrottle){func(...args);inThrottle=true;setTimeout(()=>inThrottle=false,limit);}};},measure(name,func){const start=performance.now();const result=func();const end=performance.now();.toFixed(2)}ms`);return result;}}};window.AionUtils=AionUtils;window.addEventListener('error',(event)=>{AionUtils.errors.log(event.error,'Global error handler');AionUtils.errors.show('An unexpected error occurred. Please refresh the page.');});window.addEventListener('unhandledrejection',(event)=>{AionUtils.errors.log(new Error(event.reason),'Unhandled promise rejection');AionUtils.errors.show('An error occurred while processing your request.');});